Enhancing Resiliency: Uniform PSU Firmware Upgrades Across 1500+ Servers with RIBCL

As part of our ongoing mission to bolster service resilience, we’ve been focused on ensuring the reliability of our hardware infrastructure, particularly the PSU (Power Supply Unit) firmware in our HP Gen9 devices. While previous automation efforts using Tanium and hpconfig.pl have been effective for Linux and Windows platforms, they fell short when it came to ESXi, leaving us vulnerable to potential power supply faults due to outdated firmware.

This article outlines how the integration of Remote Insight Board Command Language (RIBCL) into our automation framework has significantly enhanced our resiliency strategy. By adopting RIBCL, we’ve established a uniform approach to PSU firmware upgrades across all platforms—Linux, Windows, and ESXi—ensuring that our entire estate benefits from the latest firmware and avoiding the risks associated with power supply faults.

WHY: Ensuring Resiliency Through Uniform Automation

Resiliency in our infrastructure is non-negotiable, particularly in ensuring that all server PSUs are operating with the latest firmware. The potential risks of power supply faults due to outdated firmware are too significant to ignore. Initially, our automation efforts using Tanium and hpconfig.pl were limited to Linux and Windows platforms, requiring manual intervention for ESXi servers—a gap that compromised our resiliency goals.

Key Objectives:

    Achieve Uniformity: Establish a consistent process for upgrading PSU firmware across all platforms to ensure no device is left vulnerable.
    Enhance Resiliency: Eliminate the risk of power supply faults by ensuring all servers are running the latest firmware.
    Reduce Operational Burden: Minimize manual intervention, reducing TPAM requests and freeing up human resources for other critical tasks.

WHAT: RIBCL and Automation Across 1500+ Servers

To achieve our resiliency goals, we adopted RIBCL, a tool that enables out-of-band management of HP iLO interfaces, to automate PSU firmware upgrades across our entire server estate, including ESXi servers. This approach allowed us to complete upgrades on over 1500 servers within two months, ensuring that our entire infrastructure is resilient against power supply faults.

Results:

    Resiliency Enhanced: All servers, regardless of their platform, now have up-to-date firmware, reducing the risk of power-related failures.
    750+ Man Hours Saved: Automation significantly cut down the time required for manual upgrades, allowing us to reallocate resources to other resiliency-enhancing projects.
    1500+ TPAM Requests Reduced: The uniform approach drastically reduced the need for platform-specific management, simplifying operations and reducing administration time.

HOW: Jenkins Pipeline with RIBCL and Vault Integration

To automate the upgrade process across our diverse server environment, we integrated RIBCL into a Jenkins pipeline with HashiCorp Vault for secure credential management. This pipeline was key to ensuring a resilient, uniform, and automated upgrade process.

Automation Process:

    Inventory Management: Jenkins dynamically fetched device inventory, ensuring all relevant servers were included in the upgrade process.
    Secure Credentials: HashiCorp Vault managed iLO credentials securely, enabling automated access without compromising security.
    RIBCL Execution: The pipeline triggered RIBCL commands to upgrade PSU firmware across all platforms, including Linux, Windows, and ESXi.
    Real-Time Monitoring: Continuous monitoring and reporting provided visibility into the upgrade process, ensuring timely resolution of any issues.

Outcome:

    Uniform Resiliency: The integration ensured that all 1500+ servers were upgraded within two months, enhancing the resiliency of our entire infrastructure.
    Time Savings: The automated approach saved over 700 hours of manual work, allowing our teams to focus on other high-priority tasks.
    Operational Efficiency: The reduction of 1500+ TPAM requests highlighted the efficiency gains from automating the upgrade process across all platforms.

Conclusion

The adoption of RIBCL and the implementation of a Jenkins pipeline for PSU firmware upgrades have significantly enhanced the resiliency of our infrastructure. By achieving a uniform approach to firmware management across 1500+ servers, we mitigated the risks associated with power supply faults, reduced operational overhead, and saved over 700 hours of manual work. This project is a testament to the power of automation in maintaining and enhancing service resiliency, ensuring that our infrastructure is prepared to meet the demands of modern IT environments.
